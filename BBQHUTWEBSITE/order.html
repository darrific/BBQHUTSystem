<!DOCTYPE html>

<html>

<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text.css" href="animate.css">
<link rel="stylesheet" type="text.css" href="fonts.css">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="mustache.js"></script>

<title>BBQH | Make an Order</title>

<body>

	<div id="navigation_bar_order">
		<nav>	
			<ul>
				<li><a href="#" id="logo_image"></a></li>
				<li><a href="menu.html" id="see_menu_button">SEE THE MENU &#9663</a>
					<ul class="dropdown">
				        <li><a href="menu.html#regular_meals">Meats</a></li>
				        <li><a href="menu.html#combination_meals">Combinations Meals</a></li>
				        <li class="sides_drop_option"><a href="#sides_meals">Sides</a></li>
			      </ul>
				</li>
				<li><a href="order.html" id="place_order_button">PLACE AN ORDER</a></li>
				<li><a href="index.html#about_us" id="about_us_button">ABOUT US</a></li>
				<li><a href="index.html#contact_us" id="contact_us_button">CONTACT US</a></li>
			</ul>
		</nav>	
	</div>

	<div id="order_container">
		<div id="header"><h1>Make Your Order</h1></div>
		<div id="main_box">
			<div id="meat_container">
				<div id="subhead1" class="subhead">
					Choose Your Meat
				</div>
				<div id="options_container">
					<ul>
						<li>
							<div class="meat_option" id="chicken">
								<ul>
									<li id="image"><img src="images/food.jpeg" alt=""></li>
									<li id="name">Chicken</li>						
									<li id="add1" class="add">+</li>
								</ul>

							</div>
						</li>
						<li>
							<div class="meat_option" id="lamb">
								<ul>
									<li id="image"><img src="images/food.jpeg" alt=""></li>
									<li id="name">Lamb</li>
									<li id="add2" class="add">+</li>
								</ul>
							</div>
						</li>
						<li>
							<div class="meat_option" id="beef">
								<ul>
									<li id="image"><img src="images/food.jpeg" alt=""></li>
									<li id="name">Beef</li>
									<li id="add3" class="add">+</li>
								</ul>
							</div>
						</li>
						<li>
							<div class="meat_option" id="fish">
								<ul>
									<li id="image"><img src="images/food.jpeg" alt=""></li>
									<li id="name">Fish</li>
									<li id="add4" class="add">+</li>
								</ul>
							</div>
						</li>
						<li>
							<div class="meat_option" id="shimp">
								<ul>
									<li id="image"><img src="images/food.jpeg" alt=""></li>
									<li id="name">Shrimp</li>
									<li id="add5" class="add">+</li>
								</ul>
							</div>
						</li>
						<li>
							<div class="meat_option" id="none_meat">
								<ul>
									<li id="image"><img src="images/food.jpeg" alt=""></li>
									<li id="name">None</li>
									<li id="add6" class="add">+</li>
								</ul>
							</div>
						</li>
					</ul>

				</div>
					
				</ul> 
			</div>
			<div id="review_container">
				<div id="subhead1" class="subhead">
					Review Your Order
				</div>
				<ul id="order_result">
					<script id="order_template" type="text/template">
						{{#order_result}}
						<li>
							<span>{{.}}</span>
							<div id="inner_buttons">
								<j class= "edit_">EDIT</j>
								<i class="del">X</i>
							</div>
						</li>
						{{/order_result}}
					</script>
				</ul>
				<div id="total">
					<h2>TOTAL: </h2>
				</div>
			</div>
	</div>
	<div id="edit_box">
				<img src="images/bbq.jpg" alt=":/">
				<div id="size">
					<h2>SIZE</h2>
					<ul id="sizes">
						<li>Small ($35)</li>
						<li>Large ($45)</li>
					</ul>
					</br>	
					<h2>SIDES</h2>
					<ul id="sides">
						<li>Salad (Free) <input id="toggle" type="checkbox"><label for="toggle"></li>
						<li>Fries (Free)<input id="toggle" type="checkbox"><label for="toggle"></li>
						<li>Mashed Potato ($5)<input id="toggle" type="checkbox"><label for="toggle"></li>	
						<li>Wedges ($5)<input id="toggle" type="checkbox"><label for="toggle"></li>
						<li>Corn ($5)<input id="toggle" type="checkbox"><label for="toggle"></li>
					</ul>
					</br>
					<h2>QUANTITY: </h2>
					<ul id="quantity">
						<li>+</li>
						<li>-</li>
					</ul>
					</div>
					</br>
					<div id="subtotal">
						<h2>Subtotal: </h2>
					</div>
				</div>
			</div>
</body>

<footer>
	<script> //chicken,lamb,beef,shrimp,fish
	var choose_meat = (function(){
		//arrays
		var arr_order_result= []; //was order_result
		var arr_order_no= []; //was order_no
		var arr_edit= []; //was edit_array
		var arr_sizes=[]
		//counters&indexes
		var order_number= 0;
		var counter= 0;
		//cache DOM
		var $mainZebra = $('#order_container'); 
		var $optionsContainer = $mainZebra.find('#options_container'); //was container
		var $reviewContainer = $mainZebra.find('#review_container'); 
		var $ul = $reviewContainer.find('#order_result');
		var $popup = $mainZebra.find('#edit_box');
		var template = $reviewContainer.find('#order_template').html();
		//buttons
		var b_add = $optionsContainer.find('.add'); //was $add
		var b_edit = $('.edit_');

		//==========JUSTIN WORK IN HERE PLS=============


		//==========JUSTIN END WORK HERE PLS============

		//bind events
		b_add.on("click", addMeat);
		$ul.delegate('i.del', 'click', deleteMeat);
		$ul.delegate('j.edit_', 'click', editMeat);
		render();

		function render(){
			$ul.html(Mustache.render(template, {order_result: arr_order_result}));	

		}

		function addMeat(evenh){

			var $info = $optionsContainer.find(evenh.target).prev().html();
			arr_order_result.push($info); //pushing the info (eg "Chicken") to the array
			render();
		}

		function deleteMeat(even){
			var i;
			var $remove = $(even.target).closest('li');
			i = $ul.find('li').index($remove);
			arr_order_result.splice(i,1);
			render();
		}

		function editMeat(e){

			if (counter === 0)
			{
				$popup.fadeIn(1000);	
				counter++;
			}else
			{
				$popup.fadeOut(1000);
					counter--;
			}

		}
		
	})();
	</script>
</footer>

</html>
